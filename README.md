# hao12345

an online website directory

<https://jixiaoyong.github.io/hao12345/>

## Getting Started

flutter build web

flutter version: 3.35.7            │ 3.9.2          │ Oct 23, 2025 │

## 项目架构

本项目采用 **MVVM + Repository** 架构模式，使用 **Riverpod** 进行状态管理：

- **UI 层** (`lib/page/`, `lib/component/`, `lib/widgets/`): 页面和可复用组件，使用 `HookConsumerWidget` 响应式构建
- **状态管理层** (`lib/state/`): ViewModel 通过 `AsyncNotifier` 管理异步状态和业务逻辑
- **数据层** (`lib/repository/`): Repository 负责数据获取、本地存储和序列化
- **数据模型** (`lib/bean/`): 使用 Freezed 生成不可变数据类，支持 JSON 序列化
- **工具层** (`lib/utils/`): 工具函数（本地存储、日志、网络可达性检测等）
- **主题管理** (`lib/theme/`): 支持明暗主题切换，自动跟随系统设置

## 项目功能

### 主页功能

- **网址导航展示**: 以卡片形式展示常用网址，支持自定义图标和字体大小
- **搜索功能**: 内置搜索框，支持快速检索导航项
- **响应式布局**: 自适应移动端和桌面端屏幕尺寸
- **主题切换**: 支持明暗主题，自动跟随系统主题设置

### 管理页功能

- **进入方式**: 在主页右上角点击"管理"图标（`/manage` 路由）
- **筛选视图**: 顶部提供四个筛选：`全部`、`可达`、`不可达`、`检测中`，用于按可达性状态过滤列表
- **排序功能**: 支持长按拖拽排序
- **新增/编辑/删除**:
  - 点击底部按钮"新增"创建条目，需填写名称与 URL（必须包含协议，如 `https://`）
  - 点击卡片上的"编辑"可修改现有条目；点击"删除"移除条目
  - 若名称或 URL 与现有条目重复，将提示错误并阻止保存
- **检测可达性**: 点击"检测可达性/重新检测"触发批量可达性检测，状态会以`可达/不可达/检测中`显示，并附带失败原因（如有）
- **保存到本地**: 点击"保存到本地"将当前草稿保存到浏览器本地缓存（仅当前设备生效）
- **导出数据**:
  - "复制 JSON"将导出数据拷贝到剪贴板
  - "下载 JSON"会下载 `nav.json` 文件
  - 如需长期/跨设备生效，请将导出的 JSON 覆盖到 `assets/data/default_nav.json` 后提交到仓库并重新构建
- **版本与时间戳**: 保存/导出时会自动递增 `version` 并更新 `updatedAt`（UTC ISO8601）
